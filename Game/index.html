<!DOCTYPE html>
<html>
<head>
    <title>Time Travel Challenge â€” PyScript Edition</title>

    <link rel="stylesheet" href="https://pyscript.net/latest/pyscript.css" />
    <script defer src="https://pyscript.net/latest/pyscript.js"></script>

    <style>
        body {
            font-family: Arial, sans-serif;
            max-width: 800px;
            margin: auto;
            padding: 20px;
            text-align: center;
        }
        .option-btn {
            display: block;
            width: 90%;
            margin: 10px auto;
            padding: 14px;
            font-size: 16px;
            border-radius: 8px;
        }
        #game-container {
            margin-top: 20px;
        }
        button {
            cursor: pointer;
        }
    </style>
</head>

<body>

<h1>Time Travel Challenge â€” 1960sâ€“1970s</h1>

<div id="game-container"></div>

<py-script>
from js import document, alert, localStorage

# ------------------------------------------------
# QUESTIONS (FULL 20)
# ------------------------------------------------
QUESTIONS = {
    1: {"year": "1964", "question": "Which band helped spark 'Beatlemania' in the U.S. after appearing on The Ed Sullivan Show?",
        "options": ["The Rolling Stones","The Beatles","The Kinks"], "answer": "The Beatles",
        "fact": "The Beatles' 1964 Ed Sullivan appearance became a major pop culture moment."},

    2: {"year": "1969", "question": "Which music festival became a famous symbol of 1960s youth culture and peace?",
        "options": ["Altamont","Monterey Pop Festival","Woodstock"], "answer": "Woodstock",
        "fact": "Woodstock (1969) is one of the most iconic music festivals ever."},

    3: {"year": "1969", "question": "Which guitarist is famous for performing an iconic U.S. national anthem at Woodstock?",
        "options": ["Jimi Hendrix","Eric Clapton","Carlos Santana"], "answer": "Jimi Hendrix",
        "fact": "Jimi Hendrix's Woodstock anthem performance is legendary in rock history."},

    4: {"year": "1961", "question": "Which dance became a huge early-1960s craze?",
        "options": ["Disco","Breakdancing","The Twist"], "answer": "The Twist",
        "fact": "The Twist became a major dance craze in the early 1960s."},

    5: {"year": "1960", "question": "Which animated TV family lived in the Stone Age but acted like a modern family?",
        "options": ["The Jetsons","Scooby-Doo","The Flintstones"], "answer": "The Flintstones",
        "fact": "The Flintstones became a classic animated show of the era."},

    6: {"year": "1966", "question": "Which TV/music group starred in a show about a made-for-TV band?",
        "options": ["The Beach Boys","The Monkees","The Doors"], "answer": "The Monkees",
        "fact": "The Monkees were created for TV and became a real hit music group."},

    7: {"year": "1968", "question": "Which hit song by The Beatles was famously written as a message of encouragement?",
        "options": ["Hey Jude","Good Vibrations","Light My Fire"], "answer": "Hey Jude",
        "fact": "'Hey Jude' (1968) became one of The Beatlesâ€™ biggest worldwide hits."},

    8: {"year": "1964", "question": "Which boxer won the heavyweight title in 1964 and later became known as Muhammad Ali?",
        "options": ["Joe Frazier","Cassius Clay","George Foreman"], "answer": "Cassius Clay",
        "fact": "Cassius Clay later changed his name to Muhammad Ali."},

    9: {"year": "1960s", "question": "Which fashion item became a popular youth trend in the late 1960s and early 1970s?",
        "options": ["Top hats","Powdered wigs","Bell-bottom jeans"], "answer": "Bell-bottom jeans",
        "fact": "Bell-bottoms became a recognizable style during the eraâ€™s pop culture trends."},

    10: {"year": "early 1970s", "question": "Which genre grew rapidly from the late 1960s into the 1970s and dominated youth music?",
        "options": ["Rock","Hip-hop","EDM"], "answer": "Rock",
        "fact": "Rock music expanded into many styles and became a major force in the 1970s."},

    # LEVEL 2
    11: {"year": "1961", "question": "Which technology made the first human spaceflight possible?",
        "options": ["Rocket propulsion","Jet skis","Steam engines"], "answer": "Rocket propulsion",
        "fact": "Powerful rockets made it possible to launch spacecraft into orbit."},

    12: {"year": "1969", "question": "Which mission first landed humans on the Moon?",
        "options": ["Apollo 8","Apollo 11","Apollo 13"], "answer": "Apollo 11",
        "fact": "Apollo 11 landed astronauts on the Moon in July 1969."},

    13: {"year": "1969", "question": "What early computer network created in 1969 later evolved into the internet?",
        "options": ["World Wide Web","Bluetooth","ARPANET"], "answer": "ARPANET",
        "fact": "ARPANET connected early computers and became a foundation for the internet."},

    14: {"year": "1960s", "question": "Which invention replaced vacuum tubes and helped computers become smaller and faster?",
        "options": ["Typewriters","Transistors","Candles"], "answer": "Transistors",
        "fact": "Transistors were smaller and more efficient than vacuum tubes."},

    15: {"year": "1968", "question": "Who famously demonstrated early versions of the computer mouse and modern-style computing in 1968?",
        "options": ["Douglas Engelbart","Thomas Edison","Henry Ford"], "answer": "Douglas Engelbart",
        "fact": "Engelbartâ€™s 1968 demo showcased the mouse and new ways to interact with computers."},

    16: {"year": "1962", "question": "Which device was used to take high-altitude photos that helped confirm missile sites in Cuba?",
        "options": ["Hot-air balloon","Submarine camera","U-2 spy plane"], "answer": "U-2 spy plane",
        "fact": "U-2 aircraft took key reconnaissance photos during the Cold War."},

    17: {"year": "1960s", "question": "Which technology allowed phone calls and TV signals to be sent long distances around the world more easily?",
        "options": ["Horse-drawn wagons","Communication satellites","Smoke signals"], "answer": "Communication satellites",
        "fact": "Satellites enabled fast long-distance communication and live international broadcasts."},

    18: {"year": "1960s", "question": "Which medical technology helped doctors perform complex heart surgeries by circulating blood during operations?",
        "options": ["Heart-lung machine","Thermometer","Stethoscope"], "answer": "Heart-lung machine",
        "fact": "Heart-lung machines made many open-heart surgeries possible."},

    19: {"year": "1971", "question": "Which invention (introduced in 1971) is often considered the first widely used microprocessor?",
        "options": ["CD player","GPS receiver","Intel 4004"], "answer": "Intel 4004",
        "fact": "The Intel 4004 helped start the microprocessor revolution in computing."},

    20: {"year": "1969", "question": "Why was the Moon landing considered a major technological achievement?",
        "options": ["It proved cars could fly","It demonstrated advanced engineering and computing","It made video games instantly popular"],
        "answer": "It demonstrated advanced engineering and computing",
        "fact": "The Moon landing required breakthroughs in rockets, materials, and onboard computers."}
}

LEVEL_1_END = 10
TOTAL_QUESTIONS = len(QUESTIONS)

# ------------------------------------------------
# HIGH SCORE FUNCTIONS
# ------------------------------------------------
def get_high_score():
    value = localStorage.getItem("time_travel_high_score")
    return int(value) if value else 0

def set_high_score(score):
    localStorage.setItem("time_travel_high_score", str(score))

# ------------------------------------------------
# GAME CLASS
# ------------------------------------------------
class Game:
    def __init__(self):
        self.qnum = 1
        self.score = 0
        self.lives = 3
        self.level = 1
        self.container = document.getElementById("game-container")
        self.start_screen()

    def clear(self):
        self.container.innerHTML = ""

    def start_screen(self):
        self.clear()
        high = get_high_score()

        self.container.innerHTML = f"""
            <h2>Welcome!</h2>
            <p>Level 1: Pop Culture<br>Level 2: Technology<br><br>You have 3 lives.</p>
            <p><b>High Score:</b> {high}</p>
            <button id='start-btn'>Start Game</button>
        """
        document.getElementById("start-btn").onclick = lambda e: self.show_question()

    def show_question(self):
        self.clear()
        data = QUESTIONS[self.qnum]
        self.level = 1 if self.qnum <= LEVEL_1_END else 2

        html = f"""
            <h2>LEVEL {self.level} â€” Question {self.qnum} (Year: {data['year']})</h2>
            <p><b>Lives:</b> {self.lives} | <b>Score:</b> {self.score}</p>
            <p>{data['question']}</p>
        """

        self.container.innerHTML = html

        for opt in data["options"]:
            btn = document.createElement("button")
            btn.innerText = opt
            btn.className = "option-btn"
            btn.onclick = lambda e, o=opt: self.check_answer(o)
            self.container.appendChild(btn)

    def check_answer(self, chosen):
        data = QUESTIONS[self.qnum]
        correct = data["answer"]

        if chosen == correct:
            self.score += 10
            alert(f"Correct!\\n{data['fact']}\\n+10 points")
        else:
            self.lives -= 1
            alert(f"Wrong! Correct answer: {correct}\\nLives left: {self.lives}")
            if self.lives <= 0:
                self.game_over()
                return

        self.next_step()

    def next_step(self):
        if self.qnum == LEVEL_1_END:
            self.qnum += 1
            self.level_complete()
            return

        if self.qnum < TOTAL_QUESTIONS:
            self.qnum += 1
            self.show_question()
        else:
            self.end_game()

    def level_complete(self):
        self.clear()
        self.container.innerHTML = f"""
            <h2>LEVEL 1 COMPLETE!</h2>
            <p>Score: {self.score} | Lives: {self.lives}</p>
            <button id='lvl2-btn'>Start Level 2</button>
        """
        document.getElementById("lvl2-btn").onclick = lambda e: self.show_question()

    def game_over(self):
        self.clear()
        self.container.innerHTML = f"""
            <h2>GAME OVER</h2>
            <p>Final Score: {self.score}</p>
            <button id='restart-btn'>Restart</button>
        """
        document.getElementById("restart-btn").onclick = lambda e: self.__init__()

    def end_game(self):
        self.clear()

        high = get_high_score()
        new_high = False

        if self.score > high:
            set_high_score(self.score)
            high = self.score
            new_high = True

        win_msg = "You win!" if self.score >= 140 else "Nice try â€” play again!"
        high_msg = "New High Score! ðŸŽ‰" if new_high else "High Score remains."

        self.container.innerHTML = f"""
            <h2>Time Travel Complete!</h2>
            <p>Final Score: {self.score}</p>
            <p>{win_msg}</p>
            <p><b>High Score:</b> {high}</p>
            <p>{high_msg}</p>
            <button id='restart-btn'>Play Again</button>
        """
        document.getElementById("restart-btn").onclick = lambda e: self.__init__()

Game()
</py-script>

</body>
</html>
